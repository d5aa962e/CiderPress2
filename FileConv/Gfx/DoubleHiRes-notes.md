# Apple II Double Hi-Res Graphics #

File types:
 - BIN ($06) / any: uncompressed double hi-res image (16KB file)
 - FOT ($08) / $0000-3fff: uncompressed double hi-res image (16KB file)
 - FOT ($08) / $4001: compressed double hi-res image (PackBytes)

Primary references:
 - //e TN #3, "Double High-Resolution Graphics"
 - _Apple IIgs Hardware Reference_, chapter 4
 - Apple II File Type Note $08/0000, "Apple II Graphics File"
 - Apple II File Type Note $08/4001, "Packed Apple II Double Hi-Res Graphics File"
 - IIgs TN #63, "Master Color Values"

## Format ##

Double hi-res graphics screens are generally stored as a 16KB file.  The first 8KB holds the
aux RAM portion, the second 8KB holds the main RAM portion.

The screen layout in memory and color generation is described in great detail in Apple //e
Technical Note #3.

Summary: the basic layout is similar to [standard hi-res](HiRes-notes.md), but pixel data is
byte-interleaved between main and auxiliary 8K pages.  Seven pixels of each byte contribute to
the image; the high bit of each byte is ignored.  The screen can be regarded as 560x192 in
black & white, or 140x192 with 16 colors (4 bits) per pixel.

The colors are from the same palette as the lo-res graphics colors.

## Color Conversion ##

Generating a 560x140 black & white image is straightforward.

Color is more difficult.  The interference patterns caused by adjacent colors are difficult to
model accurately, especially given that RGB and composite outputs seem to be different.  A literal
translation that treats the screen as 140 pixels with 4-bit color values will be very different
from what real hardware displays.  A better approximation can be generated by emulating a sliding
4-bit window for 560 individual color pixels.

In any event, to maintain the original proportions, the output should be 560x384.  The Apple II
didn't have square pixels, but it's close enough.
